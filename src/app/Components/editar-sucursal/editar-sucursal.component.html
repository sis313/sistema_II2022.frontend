<div class="container" id="principal" style="padding: 15px !important">
  <div *ngIf="mostrar_opciones" class="container d-flex justify-content-center align-items-center flex-column" >
    <h2>Sucursal seleccionada</h2>
    <div style="display: flex; flex-direction: row; flex-wrap: wrap;">
      <div class="form-group mx-3">
        <label for="cantidad">Nombres negocios </label>
        <select [(ngModel)]="negocioSeleccionado" (change)="buscar()" class="browser-default custom-select">
        <option *ngFor="let i of negocios;" [ngValue]="i">{{i.name}}</option>
        </select>
      </div>
      <div class="form-group mx-3">
        <label for="cantidad">Nombres sucursales </label>
        <select [(ngModel)]="sucursalSeleccionada" (change)="cambiarPosicionPorIDLocationSucursal(sucursalSeleccionada.idZone)"  class="browser-default custom-select">
        <option *ngFor="let i of sucursales;" [ngValue]="i">{{i.idBranch+" "+i.address}}</option>
        </select>
      </div>  
    </div>
  
  </div>
  <hr>
  <div class="container d-flex align-items-center justify-content-center mt-5">
    <h2>Rating: {{form.value.rating}}</h2>
    <form [formGroup]="form">
      <!-- <p>form is valid: {{ form.valid ? 'true' : 'false' }}</p> -->
      <ngx-star-rating formControlName="rating" [id]="'rating'" [disabled]="true"></ngx-star-rating>
    </form>
  </div>
  <div id="color-fondo">
    <div novalidate>
      <div class="row mt-5 mt-1">
        <div class="col-md-6" id="datos-izquierda">
          <span class="input-group" id="basic-addon1">Direccion</span>
          <div class="input-group">
            <textarea
              [(ngModel)]="sucursalSeleccionada.address"
              class="form-control"
              id="floatingTextarea2"
              style="height: 200px"
            ></textarea>
          </div>
          <span class="input-group" id="basic-addon1">Inicio</span>
          <div class="input-group">
            <input type="time" [(ngModel)]="sucursalSeleccionada.openHour" class="form-control" />
          </div>
          <span class="input-group" id="basic-addon1">Fin</span>
          <div class="input-group">
            <input type="time" [(ngModel)]="sucursalSeleccionada.closeHour" class="form-control" />
          </div>
          <div
            class=""
            style="
              display: flex;
              flex-direction: horizontal;
              flex-wrap: wrap;
              margin-bottom: 10px;
              width: 100%;
              text-align: center;
              align-items: center;
              align-content: cen;
            "
            id="dias"
          >
            <div class="form-check">
              <input
                [(ngModel)]="dias.lunes"
                type="checkbox"
                class="form-check-input"
                id="exampleCheck1"
              />
              <label class="form-check-label" for="exampleCheck1">Lunes</label>
            </div>
            <div class="form-check">
              <input
                [(ngModel)]="dias.martes"
                type="checkbox"
                class="form-check-input"
                id="exampleCheck1"
              />
              <label class="form-check-label" for="exampleCheck1">Martes</label>
            </div>
            <div class="form-check">
              <input
                [(ngModel)]="dias.miercoles"
                type="checkbox"
                class="form-check-input"
                id="exampleCheck1"
              />
              <label class="form-check-label" for="exampleCheck1"
                >Miercoles</label
              >
            </div>
            <div class="form-check">
              <input
                [(ngModel)]="dias.jueves"
                type="checkbox"
                class="form-check-input"
                id="exampleCheck1"
              />
              <label class="form-check-label" for="exampleCheck1">Jueves</label>
            </div>
            <div class="form-check">
              <input
                [(ngModel)]="dias.viernes"
                type="checkbox"
                class="form-check-input"
                id="exampleCheck1"
              />
              <label class="form-check-label" for="exampleCheck1"
                >Viernes</label
              >
            </div>
            <div class="form-check">
              <input
                [(ngModel)]="dias.sabado"
                type="checkbox"
                class="form-check-input"
                id="exampleCheck1"
              />
              <label class="form-check-label" for="exampleCheck1">Sabado</label>
            </div>
            <div class="form-check">
              <input
                [(ngModel)]="dias.domingo"
                type="checkbox"
                class="form-check-input"
                id="exampleCheck1"
              />
              <label class="form-check-label" for="exampleCheck1"
                >Domingo</label
              >
            </div>
          </div>
          <label class="input-group" for="inputGroupFile01">Upload</label>
          <div class="input-group mb-3">
            <input type="file" (change)="onChange($event)" />
          </div>
          <img
            [src]="'data:image/jpg;base64,'+sucursalSeleccionada.image"
            alt=""
            style="width: 200px; height: 200px; overflow: hidden"
          />

          <br />
          <br /><br />
          <label for="flexSwitchCheckDefault">Mostrar negocio</label>
          <div class="form-switch" style="margin-bottom: 40px">
            <input
              [(ngModel)]="sucursalSeleccionada.status"
              class="form-check-input"
              type="checkbox"
              role="switch"
              id="flexSwitchCheckDefault"
            />
          </div>

          <div class="form-group">
            <label for="cantidad">Zonas </label>
            <select
              class="browser-default custom-select"
              (change)="seleccionarZona($event.target)"
            >
              <option [value]="index" *ngFor="let zona of listaZonas;let index=index" [selected]="zona.idZone==sucursalSeleccionada.idZone">
                {{ zona.name }}
              </option>
            </select>
          </div>
        </div>

        <div class="col-md-6" id="lado-derecho">
          <div id="color-fondod">
            <div>
              <div class="form-group">
                <img [src]="prev" class="col-auto mx-auto" alt="" />
              </div>
              <div class="form-group">
                <label for="">Ubicacion </label>
                <div class="custom-file">
                  <div id="mapa-mapbox"></div>
                </div>
              </div>
            </div>
            <button class="btn btn-success btn-block" (click)="actualizar()">
              <i class="fas fa-plus-circle"></i> Actualizar
            </button>
            <button class="btn btn-primary btn-block" routerLink="/lista">
              <i class="fas fa-arrow-alt-circle-left"></i> Volver
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

  
  <!-- Modal -->
  <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="staticBackdropLabel">Modal title</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          ...
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Understood</button>
        </div>
      </div>
    </div>
  </div>
  